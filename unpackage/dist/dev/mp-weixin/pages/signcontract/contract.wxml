<view><block wx:if="{{visible}}"><view class="Mask"></view></block><block wx:if="{{!visible}}"><view><view class="title">{{ruletst.name}}</view><rich-text nodes="{{ruletst.content}}"></rich-text></view></block><view class="graph"><view class="flex l_signature"><view>甲方:</view><image src="{{ruletst.l_signature}}" mode="scaleToFill"></image></view><view class="flex signature"><view>乙方:</view><image src="{{ruletst.signature}}" mode="scaleToFill"></image></view></view><block wx:if="{{state==1||state==3}}"><view data-event-opts="{{[['tap',[['singint']]]]}}" style="display:flex;align-items:center;margin:20rpx auto auto 460rpx;" bindtap="__e"><view>姓名:</view><block wx:if="{{autophoto==''}}"><view style="color:red;font-weight:600;">点击签名</view></block><block wx:if="{{autophoto!=''}}"><view style="width:200rpx;height:100rpx;"><image style="width:100%;height:100%;" src="{{autophoto}}" mode="widthFix"></image></view></block></view></block><block wx:if="{{state==1||state==3}}"><view data-event-opts="{{[['tap',[['signing']]]]}}" class="signing" bindtap="__e">签订合同</view></block><block wx:if="{{visible}}"><view class="wrap"><view class="sigh-btns"><button data-event-opts="{{[['tap',[['handleCancel',['$event']]]]]}}" class="btn" bindtap="__e">取消</button><button data-event-opts="{{[['tap',[['handleReset',['$event']]]]]}}" class="btn" bindtap="__e">重写</button><button data-event-opts="{{[['tap',[['handleConfirm',['$event']]]]]}}" class="btn" bindtap="__e">确认</button></view><view class="sign-box"><canvas class="mycanvas" style="{{'width:'+(width+'px')+';'+('height:'+(height+'px')+';')}}" canvas-id="mycanvas" data-event-opts="{{[['touchstart',[['touchstart',['$event']]]],['touchmove',[['touchmove',['$event']]]],['touchend',[['touchend',['$event']]]]]}}" bindtouchstart="__e" bindtouchmove="__e" bindtouchend="__e"></canvas><canvas class="canvsborder" style="{{'width:'+(height+'px')+';'+('height:'+(width+'px')+';')}}" canvas-id="camCacnvs"></canvas></view></view></block></view>