{"version":3,"sources":["uni-app:///main.js","webpack:////Users/yangqinglong/Documents/zz/Y-land/pages/index/rule.vue?003b","webpack:////Users/yangqinglong/Documents/zz/Y-land/pages/index/rule.vue?bfc2","webpack:////Users/yangqinglong/Documents/zz/Y-land/pages/index/rule.vue?59a6","webpack:////Users/yangqinglong/Documents/zz/Y-land/pages/index/rule.vue?6f6f","uni-app:///pages/index/rule.vue","webpack:////Users/yangqinglong/Documents/zz/Y-land/pages/index/rule.vue?b66a","webpack:////Users/yangqinglong/Documents/zz/Y-land/pages/index/rule.vue?8671"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","visible","ctx","points","width","height","autophoto","deid","ruletst","username","content","biddingrule","state","onLoad","that","type","uni","success","methods","getBiddingRules","url","method","header","singint","tempPoint","contract","land_id","console","signing","title","signature","duration","setTimeout","delta","icon","touchstart","X","Y","touchmove","touchend","draw","handleCancel","handleReset","handleConfirm","canvasId","fail","uploadphoto","filePath","name","getAgreement"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACa;;;AAGhE;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAk0B,CAAgB,kyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiCt1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA,eACA;EACAC;IACA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;IACA;EACA;EACAC;IACAC;IACAC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAC;MACAC;QACAH;QACAA;MACA;IACA;IACA;IACA;EACA;EACAI;IACAC;MAAA;MACA;QACAC;QACAC;QACAC;UACA;QACA;MACA;QACA;UACA;QACA;UACA;QACA;MACA;IACA;IACAC;MACAC;MACA;IACA;IACAC;MAAA;MACA;QACAL;QACAC;QACAC;UACA;QACA;QACAtB;UACA0B;QACA;MACA;QACA;UACA;UACAC;QACA;UACA;QACA;MACA;IACA;IACAC;MACA;MACAZ;QACAa;QACAnB;QACAO;UAAA;UACA;YACA;cACAH;YACA;cACAA;gBACAM;gBACAC;gBACAC;kBACA;gBACA;gBACAtB;kBACA0B;kBACAI;gBACA;cACA;gBACA;kBACA;kBACAd;oBACAa;oBACAE;kBACA;kBACAC;oBACAhB;sBAAA;sBACAiB;oBACA;kBACA;gBACA;kBACAjB;oBACAa;oBACAK;kBACA;gBACA;cACA;YACA;UACA;YACApB;YACAa;UACA;QACA;MACA;IAEA;IAOA;IACAQ;MACA;MACA;MACA;QACAC;QACAC;MACA;;MAEA;AACA;AACA;MACA;;MAEA;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;QACAF;QACAC;MACA;MACA;MACA;MACA;QACA;MACA;;MACAb;IACA;IAEA;IACAe;MACA;IACA;IAEA;AACA;AACA;AACA;AACA;AACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IAEAC;MACA3B;MACAA;MACAU;MACA;MACA;MACA;MACA;IACA;;IAEA;IACAkB;MACAf;MACAb;MACAA;MACAU;IACA;IAEA;IACAmB;MACA;QACA3B;UACAa;UACAK;UACAH;QACA;QACA;MACA;MACAJ;MACAX;QACA4B;QACA3B;UACA;UACAU;UACA;UACAzB;UACAA;UACAA;UACAA;UACA8B;YAEA;YACAhB;cACA4B;cACA3B;gBACAU;gBACA;gBACA;kBACA;kBACAb;gBAEA;cACA;cACA+B;gBACAlB;cACA;YACA,EACA;UACA;QACA;MACA;IACA;IACAmB;MACA;MACA9B;QACAI;QACA2B;QACAC;QACA/B;UACA;UACA;YACAH;YACAA;YACAa;UACA;YACAA;YACAb;UACA;QACA;MACA;IACA;IACA;IACAmC;MAAA;MACA;QACA7B;QACAC;QACAC;UACA;QACA;QACAtB;UACA0B;QACA;MACA;QACAC;QACA;UACA;UACA;QACA;UACA;QACA;MACA;IACA;EAEA;AACA;AAAA,2B;;;;;;;;;;;;;ACzUA;AAAA;AAAA;AAAA;AAA+qC,CAAgB,+lCAAG,EAAC,C;;;;;;;;;;;ACAnsC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/index/rule.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index/rule.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./rule.vue?vue&type=template&id=5f22f6d2&\"\nvar renderjs\nimport script from \"./rule.vue?vue&type=script&lang=js&\"\nexport * from \"./rule.vue?vue&type=script&lang=js&\"\nimport style0 from \"./rule.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/rule.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./rule.vue?vue&type=template&id=5f22f6d2&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./rule.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./rule.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"Mask\" v-if=\"visible\"></view>\r\n\t\t<view class=\"title\">{{username}}</view>\r\n\t\t<rich-text :nodes=\"content\"></rich-text>\r\n\t\t<view class=\"title\">{{biddingrule.name}}</view>\r\n\t\t<rich-text :nodes=\"biddingrule.content\"></rich-text>\r\n\t\t<view @click=\"singint()\" style=\"display: flex;align-items: center;margin: 20rpx auto auto 460rpx;\" v-if=\"state==2\">\r\n\t\t\t<view>姓名:</view>\r\n\t\t\t<view v-if=\"autophoto == ''\" style=\"color: red;font-weight: 600;\">点击签名</view>\r\n\t\t\t<view v-if=\"autophoto != ''\" style=\"width: 200rpx;height: 100rpx;\"><image :src=autophoto mode=\"widthFix\" style=\"width: 100%;height: 100%;\"></image>\r\n\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- <view>:{{}}</view> -->\r\n\t\t<view class=\"signing\" @click=\"signing()\" v-if=\"state==2\">同意</view>\r\n\t\t<view class=\"wrap\" v-if=\"visible\">\r\n\t\t\t<view class=\"sigh-btns\">\r\n\t\t\t\t<button class=\"btn\" @tap=\"handleCancel\">取消</button>\r\n\t\t\t\t<button class=\"btn\" @tap=\"handleReset\">重写</button>\r\n\t\t\t\t<button class=\"btn\" @tap=\"handleConfirm\">确认</button>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"sign-box\">\r\n\t\t\t\t<canvas class=\"mycanvas\" :style=\"{width:width +'px',height:height +'px'}\" canvas-id=\"mycanvas\"\r\n\t\t\t\t\t@touchstart=\"touchstart\" @touchmove=\"touchmove\" @touchend=\"touchend\"></canvas>\r\n\t\t\r\n\t\t\t\t<canvas canvas-id=\"camCacnvs\" :style=\"{width:height +'px',height:width +'px'}\" class=\"canvsborder\"></canvas>\r\n\t\t\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\n</template>\n\n<script>\r\n\tvar x = 20;\r\n\tvar y = 20;\r\n\tvar tempPoint = []; //用来存放当前画纸上的轨迹点\r\n\tvar id = 0;\r\n\tvar type = '';\r\n\tlet that;\r\n\tlet canvasw;\r\n\tlet canvash;\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tvisible:false,\r\n\t\t\t\tctx: '', //绘图图像\r\n\t\t\t\tpoints: [], //路径点集合,\r\n\t\t\t\twidth: 0,\r\n\t\t\t\theight: 0,\r\n\t\t\t\tautophoto:\"\",\r\n\t\t\t\tdeid:\"\",\r\n\t\t\t\truletst:\"\",\r\n\t\t\t\tusername:\"\",\r\n\t\t\t\tcontent:\"\",\r\n\t\t\t\tbiddingrule:{},//竞拍规则\r\n\t\t\t\tstate:\"\",\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\t\tthat = this;\r\n\t\t\t\ttype = option.type;\r\n\t\t\t\tthis.ctx = uni.createCanvasContext('mycanvas', this); //创建绘图对象\r\n\t\t\t\t//设置画笔样式\r\n\t\t\t\tthis.ctx.lineWidth = 4;\r\n\t\t\t\tthis.ctx.lineCap = 'round';\r\n\t\t\t\tthis.ctx.lineJoin = 'round';\r\n\t\t\t\tthis.deid = option.deid;\r\n\t\t\t\tthis.state = option.state;\r\n\t\t\t\tuni.getSystemInfo({\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tthat.width = res.windowWidth * 0.8;\r\n\t\t\t\t\t\tthat.height = res.windowHeight * 0.85;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\tthis.getAgreement(option.deid);\r\n\t\t\tthis.getBiddingRules();\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tgetBiddingRules(){\r\n\t\t\t\tthis.$http.request({\r\n\t\t\t\t\turl:\"getBiddingRules\",\r\n\t\t\t\t\tmethod:'GET',\r\n\t\t\t\t\theader:{\r\n\t\t\t\t\t\t'Content-type':'multipart/form-data'\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tif(res.data.code == 200){\r\n\t\t\t\t\t\tthis.biddingrule = res.data.data.data;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.$common.showToast(res.data.info);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsingint(){\r\n\t\t\t\ttempPoint = [];\r\n\t\t\t\tthis.visible = true;\r\n\t\t\t},\r\n\t\t\tcontract(){\r\n\t\t\t\tthis.$http.request({\r\n\t\t\t\t\turl:\"getContractInfo\",\r\n\t\t\t\t\tmethod:\"GET\",\r\n\t\t\t\t\theader:{\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\tland_id:this.deid\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tif(res.data.code == 200){\r\n\t\t\t\t\t\tthis.ruletst = res.data.data\r\n\t\t\t\t\t\tconsole.log(this.ruletst,\"ruletst\");\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.$common.showToast(res.data.info);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsigning(){\r\n\t\t\t\tvar that = this\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '确认后签署完毕',\r\n\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tif(that.autophoto == \"\" || !that.autophoto || that.autophoto == undefined){\r\n\t\t\t\t\t\t\t\tthat.$common.showToast(\"请签名后提交\")\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tthat.$http.request({\r\n\t\t\t\t\t\t\t\t\turl:\"signContract\",\r\n\t\t\t\t\t\t\t\t\tmethod:\"POST\",\r\n\t\t\t\t\t\t\t\t\theader:{\r\n\t\t\t\t\t\t\t\t\t\t'Content-Type' : 'applicktion/json'\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\t\t\t\tland_id:that.deid,\r\n\t\t\t\t\t\t\t\t\t\tsignature:that.autophoto\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\t\t\t\tif(res.data.code == 200){\r\n\t\t\t\t\t\t\t\t\t\tvar that = this\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: res.data.info,\r\n\t\t\t\t\t\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack({ //返回\r\n\t\t\t\t\t\t\t\t\t\t\t\tdelta: 1\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t},2500)\t\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle:res.data.info,\r\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\tthat.$common.showToast('取消');\r\n\t\t\t\t\t\t\tconsole.log('用户点击取消');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//触摸开始，获取到起点\r\n\t\t\ttouchstart: function(e) {\r\n\t\t\t\tlet startX = e.changedTouches[0].x;\r\n\t\t\t\tlet startY = e.changedTouches[0].y;\r\n\t\t\t\tlet startPoint = {\r\n\t\t\t\t\tX: startX,\r\n\t\t\t\t\tY: startY\r\n\t\t\t\t};\r\n\t\t\t\r\n\t\t\t\t/* **************************************************\r\n\t\t\t\t    #由于uni对canvas的实现有所不同，这里需要把起点存起来\r\n\t\t\t\t * **************************************************/\r\n\t\t\t\tthis.points.push(startPoint);\r\n\t\t\t\r\n\t\t\t\t//每次触摸开始，开启新的路径\r\n\t\t\t\tthis.ctx.beginPath();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//触摸移动，获取到路径点\r\n\t\t\ttouchmove: function(e) {\r\n\t\t\t\tlet moveX = e.changedTouches[0].x;\r\n\t\t\t\tlet moveY = e.changedTouches[0].y;\r\n\t\t\t\tlet movePoint = {\r\n\t\t\t\t\tX: moveX,\r\n\t\t\t\t\tY: moveY\r\n\t\t\t\t};\r\n\t\t\t\tthis.points.push(movePoint); //存点\r\n\t\t\t\tlet len = this.points.length;\r\n\t\t\t\tif (len >= 2) {\r\n\t\t\t\t\tthis.draw(); //绘制路径\r\n\t\t\t\t}\r\n\t\t\t\ttempPoint.push(movePoint);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 触摸结束，将未绘制的点清空防止对后续路径产生干扰\r\n\t\t\ttouchend: function() {\r\n\t\t\t\tthis.points = [];\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/* ***********************************************\t\r\n\t\t\t#   绘制笔迹\r\n\t\t\t#   1.为保证笔迹实时显示，必须在移动的同时绘制笔迹\r\n\t\t\t#   2.为保证笔迹连续，每次从路径集合中区两个点作为起点（moveTo）和终点(lineTo)\r\n\t\t\t#   3.将上一次的终点作为下一次绘制的起点（即清除第一个点）\r\n\t\t\t************************************************ */\r\n\t\t\tdraw: function() {\r\n\t\t\t\tlet point1 = this.points[0];\r\n\t\t\t\tlet point2 = this.points[1];\r\n\t\t\t\tthis.points.shift();\r\n\t\t\t\tthis.ctx.moveTo(point1.X, point1.Y);\r\n\t\t\t\tthis.ctx.lineTo(point2.X, point2.Y);\r\n\t\t\t\tthis.ctx.stroke();\r\n\t\t\t\tthis.ctx.draw(true);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\thandleCancel() {\r\n\t\t\t\tthat.ctx.clearRect(0, 0, that.width, that.height);\r\n\t\t\t\tthat.ctx.draw(true);\r\n\t\t\t\ttempPoint = [];\r\n\t\t\t\tthis.visible = false;\r\n\t\t\t\t// uni.navigateBack({\r\n\t\t\t\t// \tdelta: 1\r\n\t\t\t\t// });\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//清空画布\r\n\t\t\thandleReset: function() {\r\n\t\t\t\tconsole.log('handleReset');\r\n\t\t\t\tthat.ctx.clearRect(0, 0, that.width, that.height);\r\n\t\t\t\tthat.ctx.draw(true);\r\n\t\t\t\ttempPoint = [];\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//将签名笔迹上传到服务器，并将返回来的地址存到本地\r\n\t\t\thandleConfirm: function() {\r\n\t\t\t\tif (tempPoint.length == 0 ||!tempPoint ||tempPoint == undefined ||tempPoint == '') {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请先签名',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(tempPoint,\"请先签名\");\r\n\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t\tcanvasId: 'mycanvas',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tlet tempPath = res.tempFilePath;\r\n\t\t\t\t\t\tconsole.log(tempPath,\"let tempPathz6\")\r\n\t\t\t\t\t\tconst ctx = uni.createCanvasContext('camCacnvs', that);\r\n\t\t\t\t\t\tctx.translate(0, that.width);\r\n\t\t\t\t\t\tctx.rotate((-90 * Math.PI) / 180);\r\n\t\t\t\t\t\tctx.drawImage(tempPath, 0, 0, that.width, that.height);\r\n\t\t\t\t\t\tctx.draw();\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\r\n\t\t\t\t\t\t\t//保存签名图片到本地\r\n\t\t\t\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t\t\t\t\t\tcanvasId: 'camCacnvs',\r\n\t\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(res, \"success-log\")\r\n\t\t\t\t\t\t\t\t\t\t//这是签名图片文件的本地临时地址\r\n\t\t\t\t\t\t\t\t\t\tif (res.errMsg == \"canvasToTempFilePath:ok\") {\r\n\t\t\t\t\t\t\t\t\t\t\tlet path = res.tempFilePath;\r\n\t\t\t\t\t\t\t\t\t\t\tthat.uploadphoto(path);\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log('fail', err);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}, 200);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tuploadphoto(res) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\turl: 'https://tdpm.shningmi.com/applet/uploads',\r\n\t\t\t\t\tfilePath: res,\r\n\t\t\t\t\tname: 'file',\r\n\t\t\t\t\tsuccess: (uploadFileRes) => {\r\n\t\t\t\t\t\tvar data = JSON.parse(uploadFileRes.data);\r\n\t\t\t\t\t\tif(data.code == 200){\r\n\t\t\t\t\t\t\tthat.autophoto = data.data.url;\r\n\t\t\t\t\t\t\tthat.visible = false;\r\n\t\t\t\t\t\t\tconsole.log(data,\"data图片查看\");\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tconsole.log(\"失败\");\r\n\t\t\t\t\t\t\tthat.$common.showToast(data.info)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//保证金合同详情;\r\n\t\t\tgetAgreement(info){\r\n\t\t\t\tthis.$http.request({\r\n\t\t\t\t\turl:\"getMarginRule\",\r\n\t\t\t\t\tmethod:\"GET\",\r\n\t\t\t\t\theader:{\r\n\t\t\t\t\t\t'Content-Type':'multipart/form-data'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\tland_id:info\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tconsole.log(res,\"保证金res\");\r\n\t\t\t\t\tif(res.data.code == 200){\r\n\t\t\t\t\t\tthis.username = res.data.data.data.name\r\n\t\t\t\t\t\tthis.content = res.data.data.data.content\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.$common.showToast(res.data.info);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\n</script>\n\n<style>\r\n\t.Mask{\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: fixed;\r\n\t\tz-index: 99;\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\t.signing{\r\n\t\twidth: 672rpx;\r\n\t\theight: 81rpx;\r\n\t\tline-height: 81rpx;\r\n\t\tmargin: 8.5rpx auto;\r\n\t\tbackground: #64B067;\r\n\t\tborder-radius: 10rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tfont-family: PingFang SC;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: #FFFFFF;\r\n\t\ttext-align: center;\r\n\t\tmargin-top: 130rpx;\r\n\t}\r\n\t\r\n\t.wrap{\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tz-index: 100;\r\n\t}\r\n\t.container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t}\r\n\t\r\n\t.sign-box {\r\n\t\twidth: 80%;\r\n\t\theight: 90%;\r\n\t\tmargin: auto;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\ttext-align: center;\r\n\t}\r\n\t\r\n\t.sign-view {\r\n\t\theight: 100%;\r\n\t}\r\n\t\r\n\t.sigh-btns {\r\n\t\theight: 100%;\r\n\t\tmargin: auto;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-around;\r\n\t}\r\n\t\r\n\t.btn {\r\n\t\tmargin: auto;\r\n\t\tpadding: 8rpx;\r\n\t\ttransform: rotate(90deg);\r\n\t\tborder: grey 1rpx solid;\r\n\t}\r\n\t\r\n\t.mycanvas {\r\n\t\tmargin: auto 0rpx;\r\n\t\tbackground-color: #ececec;\r\n\t}\r\n\t\r\n\t.canvsborder {\r\n\t\tborder: 1rpx solid #333;\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 10000rpx;\r\n\t}\r\n\t.title{\r\n\t\tfont-size: 38rpx;\r\n\t\tcolor: 000;\r\n\t\tfont-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;\r\n\t\twidth: 100%;\r\n\t\tmargin: 50rpx auto;\r\n\t\ttext-align: center;\r\n\t}\n</style>","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./rule.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./rule.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1676877202105\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}