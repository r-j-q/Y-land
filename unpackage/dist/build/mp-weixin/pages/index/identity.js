(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/identity"],{"0a66":function(t,a,n){"use strict";n.r(a);var e=n("5780"),o=n.n(e);for(var i in e)"default"!==i&&function(t){n.d(a,t,(function(){return e[t]}))}(i);a["default"]=o.a},"0e85":function(t,a,n){"use strict";var e=n("5773"),o=n.n(e);o.a},4558:function(t,a,n){"use strict";(function(t){n("2277");e(n("66fd"));var a=e(n("e4ea"));function e(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(a.default)}).call(this,n("543d")["createPage"])},"4f9d":function(t,a,n){},5773:function(t,a,n){},5780:function(t,a,n){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n={data:function(){return{username:"",phone:"",number:"",photo:"",photo1:"",idstate:!0,scene:"",avatar:"https://mmbiz.qpic.cn/mmbiz/icTdbqWNOwNRna42FI242Lcia07jQodd2FJGIYQfG0LAJGFxM4FbnQP6yfMxBgJ0F3YRqJCJ1aPAK2dQagdusBZg/0",nicknames:""}},onLoad:function(){},onShow:function(){var t=getApp().globalData.statusid;1==t&&this.getCardInfo(),this.getAuctionStatus()},methods:{getAuctionStatus:function(){var t=this;this.$http.request({url:"getAuctionStatus",method:"GET",header:{"Content-Type":"applicktion/json"}}).then((function(a){t.scene=a.data.data.data}))},changeAvatar:function(a){var n=this;a.detail.avatarUrl&&t.uploadFile({url:"https://tdpm.shningmi.com/applet/uploads",filePath:a.detail.avatarUrl,name:"file",success:function(t){var a=JSON.parse(t.data);n.avatar=a.data.url},fail:function(a){t.showToast({title:a,duration:2e3})},complete:function(){t.hideLoading()}})},getCardInfo:function(){var t=this;this.$http.request({url:"getCardInfo",method:"GET",header:{"Content-Type":"multipart/form-data"}}).then((function(a){if(200==a.data.code){console.log(a,"res 认证信息857");a=a.data.data;t.avatar=a.headimg,t.nicknames=a.nickname,t.username=a.username,t.phone=a.phone,t.number=a.sfz_no,t.photo=a.sfz_zm,t.photo1=a.sfz_fm}}))},uplodimage:function(a){var n=this;t.chooseMedia({count:1,mediaType:["image"],sourceType:["album","camera"],camera:"back",success:function(e){var o=e.tempFiles[0].tempFilePath;t.uploadFile({url:"https://tdpm.shningmi.com/applet/uploads",filePath:o,name:"file",success:function(t){console.log(a,"tion图片查看");var e=JSON.parse(t.data);0==a?n.photo=e.data.url:1==a&&(n.photo1=e.data.url)}})}})},smit:function(){if(this.avatar&&""!=this.avatar&&"https://mmbiz.qpic.cn/mmbiz/icTdbqWNOwNRna42FI242Lcia07jQodd2FJGIYQfG0LAJGFxM4FbnQP6yfMxBgJ0F3YRqJCJ1aPAK2dQagdusBZg/0"!=this.avatar)if(this.nicknames&&""!=this.nicknames)if(this.username)if(/^1[3456789]\d{9}$/.test(this.phone))if(/^[1-9]\d{5}(18|19|20|(3\d))\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/.test(this.number))if(this.photo)if(this.photo1){var a=this;t.showModal({title:"提示",content:"确认提交吗？",success:function(t){t.confirm?a.addinfo():t.cancel&&console.log("用户点击取消")}})}else this.$common.showToast("请添加身份证国徽面照片");else this.$common.showToast("请添加身份证国徽面照片");else this.$common.showToast("请输入正确身份证号码");else this.$common.showToast("请输入正确手机号");else this.$common.showToast("请输入姓名");else this.$common.showToast("请设置微信昵称");else this.$common.showToast("请设置上方头像")},inp:function(t){console.log(t)},addinfo:function(){var a=this,n={username:this.username,phone:this.phone,sfz_no:this.number,sfz_zm:this.photo,sfz_fm:this.photo1,headimg:this.avatar,nickname:this.nicknames};console.log(n,"dataurl"),this.$http.request({url:"addCard",method:"POST",header:{"Content-Type":"applicktion/json"},data:n}).then((function(n){a.$common.showToast("完善成功"),setTimeout((function(){t.switchTab({url:"/pages/index/my"})}),2e3)}))}}};a.default=n}).call(this,n("543d")["default"])},d4d3:function(t,a,n){"use strict";var e;n.d(a,"b",(function(){return o})),n.d(a,"c",(function(){return i})),n.d(a,"a",(function(){return e}));var o=function(){var t=this,a=t.$createElement;t._self._c},i=[]},e4ea:function(t,a,n){"use strict";n.r(a);var e=n("d4d3"),o=n("0a66");for(var i in o)"default"!==i&&function(t){n.d(a,t,(function(){return o[t]}))}(i);n("f825"),n("0e85");var s,c=n("f0c5"),u=Object(c["a"])(o["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],s);a["default"]=u.exports},f825:function(t,a,n){"use strict";var e=n("4f9d"),o=n.n(e);o.a}},[["4558","common/runtime","common/vendor"]]]);