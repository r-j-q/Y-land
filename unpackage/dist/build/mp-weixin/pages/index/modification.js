(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/modification"],{"0f9d":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{value:{type:String,default:""}},data:function(){return{readOnly:!1,placeholder:"开始输入...",richText:"",formats:{},serverUrl:this.$http.serverUrl}},methods:{readOnlyChange:function(){this.readOnly=!this.readOnly},onEditorReady:function(){var e=this,i=t.createSelectorQuery().in(this);i.select("#editor").context((function(t){e.editorCtx=t.context,e.value&&e.editorCtx.setContents({html:e.value})})).exec(this)},getCtx:function(t){this.richText=t.detail.html,this.$emit("input",t.detail.html)},undo:function(){this.editorCtx.undo()},redo:function(){this.editorCtx.redo()},format:function(t){var e=t.target.dataset,i=e.name,o=e.value;i&&this.editorCtx.format(i,o)},onStatusChange:function(t){var e=t.detail;this.formats=e},insertDivider:function(){this.editorCtx.insertDivider({success:function(){console.log("insert divider success")}})},clear:function(){this.editorCtx.clear({success:function(t){console.log("clear success")}})},removeFormat:function(){this.editorCtx.removeFormat()},insertDate:function(){var t=new Date,e="".concat(t.getFullYear(),"/").concat(t.getMonth()+1,"/").concat(t.getDate());this.editorCtx.insertText({text:e})},insertImage:function(){var e=this;t.chooseMedia({count:1,mediaType:["image"],sourceType:["album","camera"],camera:"back",success:function(i){var o=i.tempFiles[0].tempFilePath;t.uploadFile({url:"https://tdpm.shningmi.com/applet/uploads",filePath:o,name:"file",success:function(t){var i=JSON.parse(t.data),o=i.data.url;e.editorCtx.insertImage({width:"100%",height:"auto",src:o,alt:"图像",success:function(t){console.log(t,"insert image success")}})}})}})}},onLoad:function(){t.loadFontFace({family:"Pacifico"})}};e.default=i}).call(this,i("543d")["default"])},"3e7f":function(t,e,i){"use strict";var o=i("82fb"),n=i.n(o);n.a},"629d":function(t,e,i){},"82fb":function(t,e,i){},"853f":function(t,e,i){"use strict";var o;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return o}));var n=function(){var t=this,e=t.$createElement;t._self._c},s=[]},"8d8b":function(t,e,i){"use strict";i.r(e);var o=i("0f9d"),n=i.n(o);for(var s in o)"default"!==s&&function(t){i.d(e,t,(function(){return o[t]}))}(s);e["default"]=n.a},9632:function(t,e,i){},a208:function(t,e,i){"use strict";var o;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return o}));var n=function(){var t=this,e=t.$createElement;t._self._c},s=[]},c4ea:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("fb2c"));function n(t){return t&&t.__esModule?t:{default:t}}var s={components:{richTextEditor:o.default},data:function(){this.getDate({format:!0});return{editorContentShow:!1,list:{name:"",cover:"",slider:[],remark:"",content:"",start_price:"",add_price:"",auction_type:"",start_time:"",end_time:"",delay_period:"",province_id:"",city_id:"",region_id:"",town_id:"",village_id:"",address:"",acreage:"",land_cert:"",plant:""},modevalue:"0",endjudge:!1,auctionmode:"",landPhoto:"",choice:"点击选择",choiceae:"点击选择",date:"选择开始日期",time:"选择时间",gdate:"选择结束日期",gtime:"选择时间",fs:"",visible:!1,current:[],prov:[],city:[],country:[],town:"",village:"",value:[],control:[0,0,0,0,0],xsprov:"",idprov:"",xscity:"",idcity:"",idcountry:"",xscountry:"",richText:"",con:"",navth:[],numlen:0,aroption:[],esop:[],rceptlog:!1}},onLoad:function(t){this.getLandInfo(t.id)},onShow:function(){this.ppfs(),this.opaddress()},method:function(){},methods:{opaddress:function(t){var e=this;1==this.rceptlog&&this.$common.showToast("网络缓慢，请勿重复点击"),this.numlen<3&&(this.rceptlog=!0),this.$http.request({url:"getRegionList",method:"GET",header:{"Content-Type":"multipart/form-data"},data:{id:t}}).then((function(t){var i=e,o=t.data.data,n=[];for(var s in o)"object"==typeof o[s]&&(n.push(o[s]),i.rceptlog=!1);i.esop=n}))},selcancel:function(){this.visible=!1},selconfirm:function(){if(this.navth.length<5)this.$common.showToast("请选择完地区后点击确定");else{this.visible=!1,this.visible=!1;var t=this.navth;this.list.province_id=t[0].id,this.list.city_id=t[1].id,this.list.region_id=t[2].id,this.list.town_id=t[3].id,this.list.village_id=t[4].id,this.choiceae=t[0].name+t[1].name+t[2].name+t[3].name+t[4].name}},altion:function(t,e,i){if(1!=this.rceptlog){var o=this.esop;this.opaddress(t),this.navth.push(o[e]),this.numlen=i+1}else this.$common.showToast("网络缓慢，请勿重复点击")},chonav:function(t){if(1!=this.rceptlog){this.numlen=t;var e=this.navth;0==t?this.opaddress():this.opaddress(e[t-1].id),this.navth.splice(t)}else this.$common.showToast("网络缓慢，请勿重复点击")},input:function(t){console.log("这里是初始内容.................",t),this.list.content=t},del:function(e){var i=this;t.showModal({title:"提示",content:"确认删除该图片吗？",success:function(t){t.confirm&&(i.list.slider=i.list.slider.filter((function(t){return t!=i.list.slider[e]})),console.log(i.list.slider,"this.list.slider"))}})},getLandInfo:function(e){var i=this;this.$http.request({url:"getLandInfo",method:"GET",header:{"Content-Type":"multipart/form-data"},data:{id:e}}).then((function(o){if(console.log(o,"res-log"),200==o.data.code){console.log(o.data.data.auction_type_name,"this.list200");var n=o.data.data;i.list.id=e,i.list.name=n.name,i.list.cover=n.cover,i.list.slider=n.slider,i.list.remark=n.remark,i.list.content=n.content,i.editorContentShow=!0,i.list.start_price=n.start_price,i.list.add_price=n.add_price,i.list.auction_type=String(n.auction_type),i.choice=n.auction_type_name,i.date=n.start_time.slice(0,10),i.time=n.start_time.slice(n.start_time.length-8,n.start_time.length-3),i.gdate=n.end_time.slice(0,10),i.gtime=n.end_time.slice(n.start_time.length-8,n.start_time.length-3),i.list.delay_period=n.delay_period,i.list.province_id=n.province_id,i.list.city_id=n.city_id,i.list.region_id=n.region_id,i.list.town_id=n.town_id,i.list.village_id=n.village_id,i.list.address=n.address,i.list.acreage=n.acreage,i.list.land_cert=n.land_cert,i.list.plant=n.plant,i.choiceae=n.region[0]+n.region[1]+n.region[2]+n.region[3]+n.region[4],console.log(i.list.content,"详情--reslog"),console.log(o.data.data,"在这里填写---666")}else 201==o.data.code?(i.$common.showToast(o.data.info),setTimeout((function(){t.navigateBack({delta:1})}),2e3)):i.$common.showToast(o.data.info);t.hideLoading()}))},uplodimage:function(e){var i=this;t.chooseMedia({count:1,mediaType:["image"],sourceType:["album","camera"],camera:"back",success:function(o){var n=o.tempFiles[0].tempFilePath;t.uploadFile({url:"https://tdpm.shningmi.com/applet/uploads",filePath:n,name:"file",success:function(t){var o=JSON.parse(t.data);1==e&&(i.list.cover=o.data.url),2==e&&i.list.slider.push(o.data.url),3==e&&(i.list.land_cert=o.data.url)}})}})},smit:function(){var e=this.list,i=e.name,o=e.cover,n=e.slider,s=e.remark,a=e.content,c=e.start_price,r=e.add_price,d=e.auction_type,l=(e.start_time,e.end_time,e.delay_period),h=e.province_id,u=e.city_id,m=e.region_id,f=e.town_id,p=e.village_id,v=e.address,g=e.acreage,_=(e.land_cert,e.plant);if(console.log(typeof d,"auction_type0_0"),""!=i&&i)if(""!=o&&o)if(""!=n&&n)if(""!=s&&s)if(""!=a&&a)if(""!=c&&c)if(1!=isNaN(c))if(""!=r&&r)if(1!=isNaN(r))if(""!=d)if(""!=this.date&&this.date&&""!=this.time&&this.time)if(""!=this.gdate&&this.gdate&&""!=this.gtime&&this.gtime)if(""!=l&&l)if(1!=isNaN(l))if(""!=h&&h)if(""!=u&&u)if(""!=m&&m)if(""!=f&&f)if(""!=p&&p)if(""!=v&&v)if(""!=g&&g)if(1!=isNaN(g))if(""!=_&&_){var T=this.$common.getNowDate(),w=this.$common.dateFormat(T.date,T.time,"YYYY-mm-dd HH:MM:SS");if(this.list.start_time=this.$common.dateFormat(this.date,this.time,"YYYY-mm-dd HH:MM:SS"),this.list.end_time=this.$common.dateFormat(this.gdate,this.gtime,"YYYY-mm-dd HH:MM:SS"),2!=this.$common.compareTime(w,this.list.start_time))if(2!=this.$common.compareTime(this.list.start_time,this.list.end_time)){var $=this.list,y=this;t.showModal({title:"提示",content:"修改后要重新进行审核",success:function(t){t.confirm&&y.editLand($)}})}else this.$common.showToast("结束时间小于开始时间");else this.$common.showToast("开始时间小于当前时间")}else this.$common.showToast("前瞻作物不能为空");else this.$common.showToast("土地面积请输入数字");else this.$common.showToast("土地面积不能为空");else this.$common.showToast("详细地址不能为空");else this.$common.showToast("村落不能为空");else this.$common.showToast("乡镇不能为空");else this.$common.showToast("区县不能为空");else this.$common.showToast("城市不能为空");else this.$common.showToast("省份不能为空");else this.$common.showToast("延迟周期请输入数字");else this.$common.showToast("延迟周期不能为空");else this.$common.showToast("拍卖结束时间不能为空");else this.$common.showToast("拍卖开始时间不能为空");else this.$common.showToast("拍卖方式不能为空");else this.$common.showToast("加价幅度请输入数字");else this.$common.showToast("加价幅度不能为空");else this.$common.showToast("起拍价请输入数字");else this.$common.showToast("起拍价不能为空");else this.$common.showToast("土地详情不能为空");else this.$common.showToast("备注不能为空");else this.$common.showToast("轮播图片不能为空");else this.$common.showToast("土地封面不能为空");else this.$common.showToast("土地名称不能为空")},editLand:function(e){var i=this;console.log(e,"datat9693"),this.$http.request({url:"editLand",method:"POST",header:{"Content-Type":"applicktion/json"},data:e}).then((function(e){200==e.data.code?(t.showToast({title:e.data.info,duration:2e3}),setTimeout((function(){t.switchTab({url:"/pages/index/index"})}),2e3)):i.$common.showToast(e.data.info)}))},ppfs:function(){var t=this;this.$http.request({url:"getAuctionType",method:"GET",header:{"Content-Type":"multipart/form-data"}}).then((function(e){200==e.data.code?t.auctionmode=e.data.data:t.$common.showToast(e.data.info)}))},ssq:function(){var t=this;this.$http.request({url:"getRegionList",method:"GET",header:{"Content-Type":"multipart/form-data"}}).then((function(e){t.zSsq(e.data.data)}))},zSsq:function(t){this.visible=!0},bindDateChange:function(t){var e=t.detail.value;this.date=e;e.replace("-","年")},zhbindDateChange:function(t){var e=t.detail.value;this.gdate=e;e.replace("-","年")},getDate:function(t){var e=new Date,i=e.getFullYear(),o=e.getMonth()+1;return o=o>9?o:"0"+o,"".concat(i,"年").concat(o,"月")},bindDateChangeTime:function(t){var e=t.detail.value;this.time=e},zhbindDateChangeTime:function(t){var e=t.detail.value;this.gtime=e},modebindChange:function(t){t=t.detail.value;this.modevalue=t,this.choice=this.auctionmode[t],this.list.auction_type=t}}};e.default=s}).call(this,i("543d")["default"])},cc9c:function(t,e,i){"use strict";i.r(e);var o=i("853f"),n=i("e4ee");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("decb"),i("3e7f");var a,c=i("f0c5"),r=Object(c["a"])(n["default"],o["b"],o["c"],!1,null,"5e622ba2",null,!1,o["a"],a);e["default"]=r.exports},cd9b:function(t,e,i){"use strict";(function(t){i("2277");o(i("66fd"));var e=o(i("cc9c"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=i,t(e.default)}).call(this,i("543d")["createPage"])},decb:function(t,e,i){"use strict";var o=i("629d"),n=i.n(o);n.a},e4ee:function(t,e,i){"use strict";i.r(e);var o=i("c4ea"),n=i.n(o);for(var s in o)"default"!==s&&function(t){i.d(e,t,(function(){return o[t]}))}(s);e["default"]=n.a},e8cb:function(t,e,i){"use strict";var o=i("9632"),n=i.n(o);n.a},fb2c:function(t,e,i){"use strict";i.r(e);var o=i("a208"),n=i("8d8b");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("e8cb");var a,c=i("f0c5"),r=Object(c["a"])(n["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],a);e["default"]=r.exports}},[["cd9b","common/runtime","common/vendor"]]]);